import { useState, useEffect, useRef } from "react";

// Each frame: array of SVG path d-strings
const FRAMES = [
  [],
  [],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -59 -43 -82 -58 -47 -33 -150 -137 -178 -182 -11 -16 -31 -46 -46 -65 -70 -90 -179 -361 -179 -442 0 -17 -7 -55 -16 -85 -19 -64 -17 -270 2 -294 7 -8 14 -42 16 -76 7 -99 -9 -94 292 -91 l261 3 6 103 c7 106 12 125 77 266 60 127 193 239 340 285 87 27 292 29 371 4 89 -28 167 -74 233 -138 74 -73 115 -135 156 -239 29 -70 32 -89 32 -182 l0 -104 263 0 c211 0 267 3 283 14 46 34 55 456 13 581 -6 17 -17 55 -25 85 -17 61 -46 129 -113 258 -26 50 -118 167 -185 234 -136 137 -339 243 -578 302 -90 22 -434 21 -523 -1z`,
  ],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -59 -43 -82 -58 -47 -33 -150 -137 -178 -182 -11 -16 -31 -46 -46 -65 -67 -88 -179 -361 -179 -439 0 -14 -7 -51 -15 -81 -17 -62 -19 -193 -4 -260 5 -25 16 -79 24 -120 23 -123 33 -161 59 -235 14 -38 26 -76 26 -83 0 -18 142 -373 189 -475 21 -45 53 -113 71 -152 56 -121 217 -438 308 -605 60 -111 3 -100 513 -100 l447 0 28 48 c55 91 226 428 370 727 42 87 154 350 154 361 0 4 9 26 19 48 82 172 171 535 171 697 0 185 -44 365 -133 544 -158 316 -408 508 -784 604 -71 18 -110 21 -280 20 -141 -1 -215 -5 -258 -16z m450 -811 c186 -60 326 -204 395 -406 15 -47 20 -86 20 -175 0 -137 -15 -192 -82 -307 -77 -132 -187 -219 -347 -274 -81 -28 -252 -31 -334 -5 -174 54 -331 188 -389 330 -8 22 -24 59 -34 83 -13 33 -18 72 -18 170 -1 109 2 135 22 187 45 119 86 185 152 249 132 124 230 163 425 165 104 1 142 -2 190 -17z`,
    `M7504 11158 c-37 -46 -111 -126 -164 -178 -53 -52 -121 -124 -150 -160 -30 -36 -85 -97 -123 -136 -64 -66 -77 -94 -43 -94 7 0 23 -11 36 -25 33 -35 56 -32 80 13 12 20 38 60 58 89 87 121 383 566 379 570 -3 2 -35 -33 -73 -79z`,
  ],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -59 -43 -82 -58 -47 -33 -150 -137 -178 -182 -11 -16 -31 -46 -46 -65 -67 -88 -179 -361 -179 -439 0 -14 -7 -51 -15 -81 -39 -144 -1 -375 122 -750 23 -72 121 -312 182 -445 59 -131 300 -607 405 -800 83 -152 133 -242 296 -520 10 -16 50 -81 89 -144 39 -63 71 -118 71 -123 0 -20 32 -5 42 20 7 15 24 45 39 67 33 51 107 172 152 250 18 33 68 119 109 190 157 272 357 653 455 865 104 226 129 268 228 380 28 31 65 76 82 101 18 24 54 71 80 105 56 71 119 151 167 214 20 25 60 79 90 120 30 41 67 90 83 109 15 18 39 50 53 71 14 20 50 70 81 111 61 81 113 156 370 538 93 139 168 255 166 257 -3 3 -35 -32 -73 -78 -37 -45 -115 -130 -173 -188 -59 -58 -124 -129 -146 -158 -41 -54 -586 -594 -606 -601 -8 -2 -9 13 -5 50 36 301 3 514 -117 754 -158 317 -417 515 -788 604 -73 18 -117 21 -280 20 -137 -1 -212 -5 -254 -16z m450 -811 c186 -60 326 -204 395 -406 26 -77 28 -255 4 -337 -59 -199 -202 -346 -409 -418 -78 -28 -260 -31 -338 -6 -179 57 -330 185 -389 330 -8 22 -24 60 -34 84 -29 69 -27 275 4 356 45 119 86 185 152 249 132 124 230 163 425 165 104 1 142 -2 190 -17z`,
  ],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -59 -43 -82 -58 -47 -33 -150 -137 -178 -182 -11 -16 -31 -46 -46 -65 -67 -88 -179 -361 -179 -439 0 -14 -7 -51 -15 -81 -17 -62 -19 -193 -4 -260 5 -25 16 -79 24 -120 23 -123 33 -161 59 -235 14 -38 26 -76 26 -83 0 -20 104 -285 162 -412 16 -36 33 -74 38 -85 24 -57 224 -461 264 -534 25 -47 46 -86 46 -87 0 -1 -17 -12 -37 -25 -21 -12 -49 -32 -63 -45 -14 -13 -60 -39 -103 -58 -66 -31 -89 -36 -149 -36 -39 0 -95 7 -124 16 -28 10 -58 14 -66 11 -30 -11 -51 -96 -49 -196 3 -102 13 -134 75 -236 43 -71 59 -84 154 -130 89 -43 139 -45 250 -10 89 28 297 131 343 169 17 14 36 26 42 26 7 0 32 -37 57 -82 25 -44 84 -144 133 -221 48 -77 87 -144 87 -148 0 -21 31 -7 42 19 7 15 21 40 33 57 18 27 141 233 189 316 11 19 50 86 86 150 102 175 239 427 320 589 40 80 76 150 81 156 5 6 15 28 23 50 27 77 126 272 163 324 21 29 61 79 88 110 28 31 65 76 82 101 18 24 54 71 80 105 56 71 119 151 167 214 20 25 60 79 90 120 30 41 67 90 83 109 15 18 39 50 53 71 14 20 50 70 81 111 61 81 113 156 370 538 93 139 168 255 166 257 -3 3 -35 -32 -73 -78 -37 -45 -115 -130 -173 -188 -59 -58 -124 -129 -146 -158 -41 -54 -586 -594 -606 -601 -8 -2 -9 13 -5 50 36 301 3 514 -117 754 -158 317 -417 515 -788 604 -73 18 -117 21 -280 20 -137 -1 -212 -5 -254 -16z m450 -811 c186 -60 326 -204 395 -406 27 -80 28 -254 2 -341 -58 -196 -201 -342 -407 -414 -78 -28 -260 -31 -338 -6 -179 57 -330 185 -389 330 -8 22 -24 60 -34 84 -29 69 -27 275 4 356 45 119 86 185 152 249 132 124 230 163 425 165 104 1 142 -2 190 -17z`,
  ],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -59 -43 -82 -58 -47 -33 -150 -137 -178 -182 -11 -16 -31 -46 -46 -65 -67 -88 -179 -361 -179 -439 0 -14 -7 -51 -15 -81 -21 -77 -19 -202 5 -317 11 -54 25 -123 31 -153 6 -30 17 -71 24 -90 8 -19 17 -46 20 -60 3 -14 10 -34 14 -45 4 -11 16 -45 25 -75 34 -109 159 -405 257 -608 44 -90 77 -168 73 -173 -3 -5 -11 -9 -17 -9 -18 0 -271 -257 -310 -315 -19 -28 -51 -88 -71 -134 -31 -74 -36 -95 -36 -164 0 -74 3 -86 46 -174 57 -116 90 -150 189 -197 96 -46 145 -47 268 -5 97 32 283 125 330 165 16 13 34 24 40 24 7 0 32 -37 57 -82 25 -44 84 -144 133 -221 48 -77 87 -144 87 -148 0 -21 31 -7 42 19 7 15 21 40 33 57 18 27 141 233 189 316 11 19 50 86 86 150 102 175 239 427 320 589 40 80 76 150 81 156 5 6 15 28 23 50 27 77 126 272 163 324 21 29 61 79 88 110 28 31 65 76 82 101 18 24 54 71 80 105 27 33 67 85 90 115 23 30 58 74 78 99 33 42 47 61 135 180 19 26 47 63 61 81 70 92 174 235 238 329 243 359 412 613 408 616 -3 3 -35 -32 -73 -78 -37 -46 -111 -126 -164 -178 -53 -52 -118 -122 -144 -155 -54 -67 -605 -615 -619 -615 -5 0 -6 23 -3 53 36 298 3 512 -117 752 -158 317 -417 515 -788 604 -73 18 -117 21 -280 20 -137 -1 -212 -5 -254 -16z m450 -811 c186 -60 326 -204 395 -406 27 -80 28 -254 2 -341 -58 -196 -200 -341 -407 -415 -78 -27 -258 -30 -338 -5 -148 47 -269 136 -351 258 -43 63 -34 73 29 37 30 -17 65 -30 77 -28 32 4 35 36 5 47 -27 10 -72 61 -82 91 -9 27 -19 25 -49 -10 l-25 -31 -23 43 c-20 38 -22 58 -23 173 0 112 3 139 23 190 45 119 86 185 152 249 132 124 230 163 425 165 104 1 142 -2 190 -17z`,
  ],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -58 -42 -80 -57 -178 -121 -365 -439 -404 -688 -6 -36 -15 -81 -21 -100 -13 -44 -13 -193 0 -245 6 -22 17 -76 25 -120 22 -122 40 -189 74 -280 4 -11 16 -45 25 -75 34 -109 159 -404 257 -608 44 -90 77 -168 74 -173 -4 -5 -12 -9 -18 -9 -18 0 -271 -257 -310 -315 -19 -28 -51 -88 -71 -134 -31 -74 -36 -95 -36 -164 0 -74 3 -86 46 -174 57 -116 90 -150 189 -197 100 -47 145 -47 284 0 58 20 111 40 116 44 6 4 46 27 90 50 44 24 93 54 109 67 16 13 34 22 40 20 6 -2 33 -41 60 -88 27 -46 87 -144 133 -218 45 -73 83 -138 83 -142 0 -21 32 -7 43 19 7 15 48 86 93 157 45 72 93 153 108 180 15 28 52 93 83 145 161 276 360 652 477 905 95 204 135 270 214 356 24 26 60 70 80 98 67 90 149 195 181 231 17 19 31 38 31 42 0 4 14 24 32 44 17 19 49 59 69 87 70 95 119 161 169 227 168 223 627 897 617 907 -3 2 -26 -22 -52 -54 -26 -32 -99 -112 -164 -178 -64 -66 -138 -147 -165 -180 -54 -67 -605 -615 -619 -615 -5 0 -6 26 -2 58 20 185 14 365 -16 472 -6 19 -19 65 -29 101 -11 37 -43 113 -71 170 -161 323 -417 518 -801 613 -90 22 -434 21 -523 -1z m450 -811 c184 -58 326 -204 395 -406 26 -77 28 -255 4 -337 -59 -199 -201 -345 -409 -419 -80 -28 -255 -30 -342 -4 -139 43 -266 136 -348 258 -42 62 -32 70 36 31 24 -14 51 -25 60 -25 19 0 124 107 165 169 72 109 85 129 109 173 38 71 75 194 75 249 0 93 -66 220 -136 261 -18 11 -34 25 -34 32 0 19 90 32 235 34 105 2 142 -1 190 -16z m-518 -107 c47 -33 63 -76 63 -173 0 -89 -1 -93 -48 -184 -66 -130 -213 -328 -243 -328 -42 0 -62 293 -26 380 70 169 114 237 192 298 33 26 34 26 62 7z`,
  ],
  [
    `M5135 11623 c-167 -42 -332 -112 -420 -178 -22 -16 -58 -42 -80 -57 -89 -60 -204 -199 -278 -335 -59 -108 -127 -298 -127 -356 0 -27 -5 -39 -17 -44 -49 -17 -462 -289 -463 -304 0 -7 84 28 300 125 69 31 131 56 137 56 9 0 13 -20 13 -67 1 -38 5 -88 11 -113 5 -25 14 -70 20 -100 11 -64 37 -173 48 -204 5 -11 16 -48 26 -81 16 -56 66 -196 85 -240 5 -11 34 -81 66 -155 31 -74 92 -208 136 -298 75 -154 83 -182 55 -182 -18 0 -271 -257 -310 -315 -19 -28 -51 -88 -71 -134 -31 -74 -36 -95 -36 -165 0 -72 4 -87 39 -160 54 -111 102 -163 194 -208 108 -54 187 -50 342 17 17 7 35 14 40 16 25 9 202 112 227 130 14 12 31 19 36 15 9 -5 75 -113 117 -191 21 -39 70 -110 78 -113 4 -2 7 -8 7 -13 0 -15 81 -139 91 -139 5 0 15 12 22 28 6 15 35 63 63 108 29 44 78 125 109 180 32 54 80 137 108 184 157 269 506 943 597 1150 13 30 34 80 48 110 57 132 149 388 173 485 10 44 24 88 30 98 12 22 29 139 36 257 6 93 -11 261 -32 325 -7 22 -21 66 -29 97 -22 77 -109 249 -163 323 -173 234 -409 383 -710 449 -98 22 -431 21 -518 -1z m445 -809 c119 -35 255 -139 325 -249 18 -27 45 -81 61 -120 25 -61 29 -86 32 -190 4 -140 -11 -210 -67 -314 -46 -84 -158 -197 -236 -238 -113 -59 -175 -75 -294 -75 -119 0 -188 16 -281 65 -139 74 -231 177 -290 326 -31 76 -33 90 -34 209 -1 138 0 142 71 292 38 79 85 139 139 178 39 29 61 21 99 -36 22 -32 25 -47 25 -127 0 -85 -2 -96 -39 -171 -44 -91 -112 -195 -182 -276 -27 -31 -49 -63 -49 -70 0 -22 77 -97 107 -104 23 -6 34 1 90 59 34 37 75 85 90 108 16 23 40 60 56 83 41 62 93 174 112 243 24 85 17 155 -23 236 -28 57 -50 82 -119 138 -7 5 -13 13 -13 18 0 29 333 41 420 15z`,
  ],
  [
    `M5135 11623 c-167 -42 -333 -112 -420 -178 -22 -17 -52 -38 -67 -48 -90 -57 -205 -193 -288 -340 -59 -104 -130 -300 -130 -360 0 -27 -5 -39 -17 -44 -49 -17 -462 -289 -463 -304 0 -7 84 28 300 125 69 31 131 56 137 56 9 0 13 -20 13 -67 1 -38 5 -88 11 -113 5 -25 14 -70 19 -100 34 -196 158 -545 303 -855 59 -125 287 -580 337 -670 18 -33 59 -109 92 -170 32 -60 67 -123 77 -140 29 -49 162 -277 182 -312 21 -37 71 -116 79 -123 6 -6 46 -76 67 -117 20 -40 39 -42 56 -5 6 15 35 63 63 108 29 44 78 125 109 180 32 54 83 142 113 194 186 318 334 602 520 990 104 218 127 270 174 395 71 188 100 275 119 350 10 44 24 88 30 98 12 22 29 139 36 257 6 93 -11 261 -32 325 -7 22 -21 66 -29 97 -22 77 -109 249 -163 323 -173 234 -409 383 -710 449 -98 22 -431 21 -518 -1z m456 -812 c169 -58 301 -188 375 -366 25 -61 29 -86 32 -189 4 -138 -9 -201 -66 -310 -70 -134 -190 -234 -348 -292 -89 -33 -257 -36 -350 -8 -111 34 -208 95 -289 183 -57 62 -78 95 -114 186 -29 70 -33 95 -38 205 -5 115 -4 129 16 167 11 23 21 48 21 54 0 24 73 154 108 194 39 44 90 85 105 85 21 0 87 -84 87 -109 0 -14 3 -43 6 -63 7 -38 7 -38 54 -38 43 0 51 4 84 40 20 22 36 45 36 50 0 39 -76 142 -122 166 -16 8 -27 21 -25 27 12 36 337 50 428 18z`,
  ],
  [
    `M5135 11623 c-167 -42 -333 -112 -420 -178 -22 -17 -52 -38 -67 -48 -90 -57 -205 -193 -288 -340 -59 -104 -130 -300 -130 -360 0 -27 -5 -39 -17 -44 -49 -17 -462 -289 -463 -304 0 -7 84 28 300 125 69 31 131 56 137 56 9 0 13 -20 13 -67 1 -38 5 -88 11 -113 5 -25 14 -70 19 -100 34 -196 158 -545 303 -855 59 -125 287 -580 337 -670 18 -33 59 -109 92 -170 32 -60 67 -123 77 -140 29 -49 162 -277 182 -312 21 -37 71 -116 79 -123 6 -6 46 -76 67 -117 20 -40 40 -42 56 -5 7 15 48 84 92 155 44 70 92 149 106 175 14 26 52 92 84 147 181 309 335 602 523 995 104 218 127 270 174 395 71 188 100 275 119 350 10 44 24 88 30 98 12 22 29 139 36 257 6 93 -11 261 -32 325 -7 22 -21 66 -29 97 -22 77 -109 249 -163 323 -173 234 -409 383 -710 449 -98 22 -431 21 -518 -1z m443 -808 c119 -36 256 -141 327 -250 18 -27 45 -81 61 -120 25 -61 29 -86 32 -189 4 -138 -9 -201 -66 -310 -70 -134 -190 -234 -348 -292 -89 -33 -257 -36 -350 -8 -111 34 -208 95 -289 183 -57 62 -78 96 -114 185 -27 68 -32 96 -37 195 -5 107 -4 122 21 196 65 198 200 339 385 402 54 19 87 23 196 23 88 0 147 -5 182 -15z`,
  ],
  [
    `M5135 11623 c-171 -43 -333 -113 -433 -186 -136 -99 -191 -153 -263 -254 -105 -146 -187 -338 -205 -478 -3 -22 -11 -60 -18 -85 -17 -58 -20 -201 -6 -265 6 -27 17 -84 25 -125 21 -113 25 -127 106 -370 27 -83 134 -340 192 -465 59 -125 287 -580 337 -670 18 -33 59 -109 92 -170 32 -60 67 -123 77 -140 29 -49 162 -277 182 -312 21 -37 71 -116 79 -123 6 -6 46 -76 67 -117 20 -40 40 -42 56 -5 7 15 48 84 92 155 44 70 92 149 106 175 14 26 52 92 84 147 181 309 335 602 523 995 104 218 127 270 174 395 71 188 100 275 119 350 10 44 24 88 30 98 12 22 29 139 36 257 6 93 -11 261 -32 325 -7 22 -21 66 -29 97 -22 77 -109 249 -163 323 -173 234 -409 383 -710 449 -98 22 -431 21 -518 -1z m443 -808 c119 -36 256 -141 327 -250 18 -27 45 -81 61 -120 25 -61 29 -86 32 -189 4 -138 -9 -201 -66 -310 -70 -134 -190 -234 -348 -292 -89 -33 -257 -36 -350 -8 -111 34 -208 95 -289 183 -57 62 -78 96 -113 184 -26 64 -32 97 -38 190 -7 113 -5 128 33 232 49 135 145 254 260 322 96 56 165 72 309 73 88 0 147 -5 182 -15z`,
  ],
];

// Total animation duration: 5000ms
// Build phase: 0–3000ms (frames 0–10), ~300ms/frame
// Hold phase: 3000–4500ms
// Fade out: 4500–5000ms
const TOTAL_FRAMES = FRAMES.length; // 11 frames (0..10)
const BUILD_DURATION = 3000;
const HOLD_DURATION = 1500;
const FADE_DURATION = 500;
const FRAME_INTERVAL = Math.floor(BUILD_DURATION / (TOTAL_FRAMES - 1));

/**
 * @param {{ paths: string[], glow: number }} props
 */
function LogoSVG({ paths, glow }) {
  return (
    <svg
      viewBox="0 0 10800 19200"
      width="100%"
      height="100%"
      style={{ display: "block", overflow: "visible" }}
    >
      <defs>
        <linearGradient id="logoGrad" x1="0" y1="1" x2="0" y2="0" gradientUnits="objectBoundingBox">
          <stop offset="0%"   stopColor="#0d0020" />
          <stop offset="20%"  stopColor="#5500bb" />
          <stop offset="55%"  stopColor="#9933ee" />
          <stop offset="80%"  stopColor="#c077ff" />
          <stop offset="100%" stopColor="#eedcff" />
        </linearGradient>
        <filter id="logoGlow" x="-80%" y="-80%" width="260%" height="260%">
          <feGaussianBlur stdDeviation={60 + glow * 180} result="blur" />
          <feColorMatrix
            in="blur" type="matrix"
            values="0.5 0 0.9 0 0  0.1 0 0.5 0 0  0.8 0 1.3 0 0  0 0 0 0.65 0"
            result="colored"
          />
          <feMerge>
            <feMergeNode in="colored" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs>
      <g transform="translate(0,19200) scale(0.1,-0.1)" filter="url(#logoGlow)">
        {paths.map((d, i) => (
          <path key={i} d={d} fill="url(#logoGrad)" />
        ))}
      </g>
    </svg>
  );
}

export default function ClaudeLogoIntro() {
  const [frameIdx, setFrameIdx]     = useState(0);
  const [phase, setPhase]           = useState("idle");   // idle | build | hold | fadeout | done
  const [opacity, setOpacity]       = useState(1);
  const timerRef = useRef(null);

  // Kick off after a brief mount delay
  useEffect(() => {
    const t = setTimeout(() => setPhase("build"), 300);
    return () => clearTimeout(t);
  }, []);

  // Build phase: step through frames
  useEffect(() => {
    if (phase !== "build") return;
    timerRef.current = setInterval(() => {
      setFrameIdx(f => {
        if (f >= TOTAL_FRAMES - 1) {
          clearInterval(timerRef.current);
          setPhase("hold");
          return f;
        }
        return f + 1;
      });
    }, FRAME_INTERVAL);
    return () => clearInterval(timerRef.current);
  }, [phase]);

  // Hold → fadeout → done
  useEffect(() => {
    if (phase === "hold") {
      const t = setTimeout(() => setPhase("fadeout"), HOLD_DURATION);
      return () => clearTimeout(t);
    }
    if (phase === "fadeout") {
      setOpacity(0);
      const t = setTimeout(() => setPhase("done"), FADE_DURATION);
      return () => clearTimeout(t);
    }
  }, [phase]);

  const progress    = frameIdx / Math.max(1, TOTAL_FRAMES - 1);
  const glowAmt     = Math.min(1, progress * 1.5);
  const paths       = FRAMES[frameIdx] || [];
  const hasContent  = paths.length > 0;

  return (
    <div
      style={{
        position: "relative",
        width: "100%",
        height: "100vh",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        overflow: "hidden",
        background: "#05000e",
      }}
    >
      {/* ── nebula background ── */}
      <div style={{
        position: "absolute", inset: 0, pointerEvents: "none",
        background: `radial-gradient(ellipse 65% 50% at 50% 48%,
          rgba(110,0,230,${0.14 * glowAmt}),
          rgba(70,0,160,${0.07 * glowAmt}),
          transparent 65%)`,
        transition: "background 0.25s",
      }} />

      {/* ── star field ── */}
      {[...Array(32)].map((_, i) => (
        <div key={i} style={{
          position: "absolute",
          width:  `${1 + (i % 2)}px`,
          height: `${1 + (i % 2)}px`,
          left:   `${(i * 37 + 11) % 100}%`,
          top:    `${(i * 53 + 7)  % 100}%`,
          borderRadius: "50%",
          pointerEvents: "none",
          background: `rgba(${170 + i * 3},${110 + i * 2},255,${0.12 + (i % 4) * 0.06})`,
          animation: `starTwinkle ${2.2 + (i % 3) * 0.7}s ease-in-out ${(i % 5) * 0.45}s infinite`,
        }} />
      ))}

      {/* ── main wrapper fades out ── */}
      <div style={{
        position: "relative",
        display: "flex",
        flexDirection: "column",
        alignItems: "center",
        gap: "20px",
        opacity,
        transition: phase === "fadeout" ? `opacity ${FADE_DURATION}ms cubic-bezier(0.4,0,1,1)` : "none",
      }}>

        {/* logo container */}
        <div style={{
          position: "relative",
          width:  "min(260px, 50vw)",
          height: "min(460px, 65vh)",
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
        }}>
          {/* warm aura ring */}
          <div style={{
            position: "absolute", inset: 0, pointerEvents: "none",
            background: `radial-gradient(ellipse 72% 82% at 50% 56%,
              rgba(150,50,255,${0.30 * glowAmt}),
              rgba(90,0,200,${0.13 * glowAmt}),
              transparent 62%)`,
            filter: "blur(20px)",
            transition: "background 0.15s",
          }} />

          {/* SVG */}
          <div style={{
            position: "relative",
            width: "100%",
            height: "100%",
            filter: hasContent
              ? `drop-shadow(0 0 ${7  + glowAmt * 20}px rgba(155,55,255,${0.70 * glowAmt}))
                 drop-shadow(0 0 ${20 + glowAmt * 45}px rgba(90,0,210,${0.32 * glowAmt}))`
              : "none",
            transition: "filter 0.1s ease",
          }}>
            <LogoSVG paths={paths} glow={glowAmt} />
          </div>

          {/* orbiting particles once logo starts revealing */}
          {progress > 0.15 && [...Array(12)].map((_, i) => {
            const angle = (i / 12) * 360 + frameIdx * 4.5;
            const r = 38 + (i % 3) * 9;
            const x = 50 + r * Math.cos((angle * Math.PI) / 180);
            const y = 55 + r * Math.sin((angle * Math.PI) / 180);
            return (
              <div key={i} style={{
                position: "absolute",
                width:  `${2 + (i % 2)}px`,
                height: `${2 + (i % 2)}px`,
                left: `${x}%`,
                top:  `${y}%`,
                borderRadius: "50%",
                pointerEvents: "none",
                transform: "translate(-50%,-50%)",
                background: `hsl(${268 + i * 9}, 100%, ${62 + i * 2}%)`,
                boxShadow:  `0 0 5px hsl(${268 + i * 9}, 100%, 68%)`,
                opacity: Math.min(1, (progress - 0.15) * 1.3) * (0.45 + 0.45 * Math.sin(frameIdx * 0.32 + i)),
              }} />
            );
          })}
        </div>

        {/* progress bar — hides during hold/fade */}
        <div style={{
          width: "100px", height: "1px",
          background: "rgba(160,90,255,0.10)",
          borderRadius: "99px",
          overflow: "hidden",
          opacity: phase === "hold" || phase === "fadeout" || phase === "done" ? 0 : 0.9,
          transition: "opacity 0.6s",
        }}>
          <div style={{
            height: "100%",
            width: `${progress * 100}%`,
            background: "linear-gradient(90deg, #5500bb, #bb77ff)",
            borderRadius: "99px",
            transition: `width ${FRAME_INTERVAL}ms linear`,
          }} />
        </div>
      </div>

      <style>{`
        @keyframes starTwinkle {
          0%,100% { opacity: 0.12; transform: scale(1); }
          50%      { opacity: 0.65; transform: scale(1.7); }
        }
      `}</style>
    </div>
  );
}
